<!DOCTYPE html><html lang="fi"><head>    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />    <meta charset="utf-8">    <meta http-equiv="X-UA-Compatible" content="IE=edge">    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css" />    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap-theme.min.css">    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/js/bootstrap.min.js"></script>    <!--[if lt IE 9]>      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>    <![endif]-->    <title>Aktiivisen tuen toimintatavan itsearviointi</title></head>
<body>
<div class="container theme-showcase" role="main">  <div id="logo-holder" style="height:1in;text-align:left;">    <svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"  height="1in" viewBox="0 0 841.9 595.3" style="enable-background:new 0 0 841.9 595.3;"  xml:space="preserve"  preserveAspectRatio="xMinYMid">  <style type="text/css">   .st0{fill:#00C1D5;}   .st1{fill:#003D4C;}  </style>  <g>   <path class="st0" d="M346.5,102.3c-10.2,0-18.4,8.2-18.4,18.4c0,10.2,8.2,18.4,18.4,18.4h116.7v-36.9H346.5z M463.2,169.5v36.9    H346.5c-10.2,0-18.4-8.2-18.4-18.4c0-10.2,8.2-18.4,18.4-18.4H463.2z M463.2,236.7v36.9H346.5c-10.2,0-18.4-8.2-18.4-18.4    c0-10.2,8.2-18.4,18.4-18.4H463.2z"/>   <path class="st1" d="M480.6,335.5l-81.8,142.8L317,335.5c-5.1-8.8-2-20.1,6.8-25.1c8.8-5.1,20.1-2,25.1,6.8c0,0,23.3,40.6,49.8,87    c26.6-46.4,49.8-87,49.8-87c5.1-8.8,16.3-11.9,25.1-6.8C482.6,315.4,485.6,326.6,480.6,335.5z M479.7,475.9    c8.8,5.1,20.1,2,25.1-6.8c0,0,23.3-40.6,49.8-87c26.6,46.4,49.8,87,49.8,87c5.1,8.8,16.3,11.9,25.1,6.8c8.8-5.1,11.9-16.3,6.8-25.1    l-81.8-142.8l-81.8,142.8C467.8,459.6,470.8,470.8,479.7,475.9z M287.3,246.8l-34.4-59.6l33.5-58.1c5.1-8.8,2.1-20.1-6.7-25.2    c-8.8-5.1-20.1-2.1-25.2,6.7l-44.2,76.5l45.1,78c5.1,8.8,16.4,11.8,25.2,6.7C289.4,266.8,292.4,255.6,287.3,246.8z M190.9,119.9    l0,136.1c0,10.2-8.2,18.4-18.4,18.4c-10.2,0-18.4-8.2-18.4-18.4l0-136.1c0-10.2,8.2-18.4,18.4-18.4    C182.6,101.4,190.9,109.7,190.9,119.9z"/>  </g> </svg>  </div>
  <div class="page-header">   <h1>Aktiivisen tuen toimintatavan itsearviointi</h1>  </div>    <div id="page-info"> <p>Aktiivisen tuen toimintatapa tukee työhyvinvoinnin ja työkyvyn johtamista. Aktiivisen tuen toimintatavan tavoitteena on varmistaa sujuva työ työpaikoilla. Toimintatapaan sisältyy varhainen tuki, tehostettu tuki ja paluun tuki sekä työterveysyhteistyö. Kevassa käytetään nimeä aktiivisen tuen toimintatapa, mutta organisaatioissa voi olla toimintatavalle muitakin nimiä, kuten esimerkiksi varhaisen tuen malli tai varhaisen välittämisen malli.</p> <p>Kevan itsearviointityökalun avulla voit arvioida, miten hyvin toimintatapa toteutuu organisaatiossasi. Saat helposti selville kehittämiskohteet ja vahvuudet – ja voit tehdä konkreettisia suunnitelmia toimintatavan kehittämiseksi. Arvioi ensin aktiivisen tuen toimintatavan kirjallista ohjeistustanne ja sen jälkeen sitä, miten toimintatapa (juurruttaminen, johtaminen, työterveysyhteistyö) toteutuu käytännössä.</p> <h3>Ohje</h3> <p>Napsauta valitsemaasi vastausvaihtoehtoa (0, 1, 2, X) ja lopuksi ´Katso tuloksia´. Tulossivulla näet vastaustesi yhteenvedon. Voit palata arviointisivulle tai tulostaa ja tallentaa yhteenvedon itsellesi sekä lähettää sen Kevan asiantuntijan konsultaatioon.</p>  </div>
  <div id="questionnaire">Ladataan...</div>
  <button type="button" class="btn btn-info" id="katso-tuloksia">    <span class="glyphicon glyphicon-ok" aria-hidden="true"></span> Katso tuloksia  </button>
  <div class="btn-toolbar" role="toolbar" id="tulokset-button-toolbar">    <button type="button" class="btn btn-info" id="muokkaa-vastauksia">      <span class="glyphicon glyphicon-random" aria-hidden="true"></span> Muokkaa vastauksia    </button>    <button type="button" class="btn btn-default" id="tulostaa-tulokset">      <span class="glyphicon glyphicon-print" aria-hidden="true"></span> Tulosta / Tallenna pdf:ksi    </button>    <button type="button" class="btn btn-default" id="laheta-asiantuntijalle">      <span class="glyphicon glyphicon-envelope" aria-hidden="true"></span> Lähetä asiantuntijalle    </button>    <!-- <button type="button" class="btn btn-default" id="tallenna-tulokset-palvelimelle">      <span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span> Tallenna Kevan palvelimelle    </button> -->  </div>  <div id="results">Ladataan...</div>        <div id="myModal" class="modal fade">    <div class="modal-dialog">      <div class="modal-content">        <div class="modal-header">          <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>          <h4 class="modal-title">Tietojen tallennus Kevan palvelimelle</h4>        </div>        <div class="modal-body">          <form>          <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Sed faucibus nunc eros, a malesuada metus consectetur ut. Aenean tincidunt turpis lorem, nec pulvinar ipsum hendrerit in. Cras lobortis nibh pellentesque tortor dapibus, id laoreet massa tempor. Donec at eros in lacus aliquam luctus vel id nisl. Duis rhoncus ante vel magna blandit viverra. Maecenas efficitur consectetur nisi vel mollis. Praesent pellentesque nibh at augue porttitor scelerisque. Morbi vel massa at magna vulputate suscipit.</p>                    <br>          <div class="controls form-inline">            <label for="inputKey">Organisaation koko</label>            <input type="text" class="input-medium form-control" id="taustatieto_henkilosto" placeholder="Henkilöstömäärä">          </div>                    <br>          <div class="form-group">            <p><strong>Mitä työnantajatyyppiä organisaatio edustaa</strong></p>            <div class="btn-group" data-toggle="buttons">              <label class="btn btn-default"><input type="radio" id="taustatieto_kunta"  name="taustatieto_tyyppi" value="kunta-ala" /> Kunta-ala * </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_valtio" name="taustatieto_tyyppi" value="valtio" /> Valtio </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_kirkko" name="taustatieto_tyyppi" value="kirkko" /> Kirkko </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_oy"     name="taustatieto_tyyppi" value="osakeyhtio" /> Osakeyhtiö </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_muu"    name="taustatieto_tyyppi" value="muu" /> Muu </label>            </div>            <p>* kunta-alaksi luetaan kunnat, kaupungit, kuntayhtymät</p>                        </div>                    <br>          <div class="form-group">            <p><strong>Missä organisaation eläkevakuutus on järjestetty?</strong></p>            <div class="btn-group" data-toggle="buttons">              <label class="btn btn-default"><input type="radio" id="taustatieto_elakeyht1" name="taustatieto_elakeyht" value="keva"  /> Kevassa </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_elakeyht2" name="taustatieto_elakeyht" value="muu" /> Muualla </label>             </div>          </div>                    <br>          <div class="form-group">            <p><strong>Oletko jo aikaisemmin vastannut tähän kyselyyn ja tallentanut tulokset Kevan palvelimelle?</strong></p>            <div class="btn-group" data-toggle="buttons">              <label class="btn btn-default"><input type="radio" id="taustatieto_aikvast1" name="taustatieto_aikvast" value="true"  /> Kyllä </label>               <label class="btn btn-default"><input type="radio" id="taustatieto_aikvast2" name="taustatieto_aikvast" value="false" /> Ei </label>             </div>          </div>                    <br><br>            <button type="button" class="btn btn-success" id="tallenna-tulokset-palvelimelle-submit"><span class="glyphicon glyphicon-download-alt" aria-hidden="true"></span>Tallenna</button>
          </form>        </div>      </div>    </div>  </div>  
  <p> </p>
<p> </p>
<script type="text/javascript" charset="UTF-8">
var kysely =[  {    "sectionHeader": "Toimintatavan ohjeistus" ,    "sectionId": "perus" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "<strong>a) Perusrakenne/kokonaisuus</strong>" ,      "partHeader": "perusrakenne" ,      "partId": "pera" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Aktiivisen tuen toimintatapa on vaiheistettu (esim. varhainen tuki, paluun tuki ja tehostettu tuki)."      } ,      {        "questionId": 2 ,        "questionText": "Toimintatavan ohjeistus on suunnattu sitä käyttäville (työntekijä, esimies, työyhteisöt, henkilöstöpalvelut, työterveyshuolto)."      } ,      {        "questionId": 3 ,        "questionText": "Toimintatapa sisältää muutakin kuin sairauspoissaolojen hallintaa (esim. työn sujumisen näkökulma)."      } ,      {        "questionId": 4 ,        "questionText": "Työkyvyn heikentyminen ymmärretään kokonaisvaltaisesti (ei vain sairautena)."      } ,      {        "questionId": 5 ,        "questionText": "Työyhteisönäkökulma huomioidaan kaikissa vaiheissa."      }      ]    } ,    {      "partDefinition": "<strong>b) Ennakoiva/edistävä ja reagoiva varhainen tuki</strong>" ,      "partHeader": "varhainen tuki" ,      "partId": "vatu" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Varhainen tuki on kuvattu osana esimiehen päivittäisjohtamista (käynnistyy jo rekrytointivaiheessa)."      } ,      {        "questionId": 2 ,        "questionText": "Varhaisen tuen vaiheessa on kuvattu, miten esimies ja työyhteisö varmistavat sujuvan työn."      } ,      {        "questionId": 3 ,        "questionText": "Toimintatavassa on kuvattu varhaisen tuen tarpeen hälytysmerkkejä, joita ilmenee jo ennen sairauspoissaoloja."      } ,      {        "questionId": 4 ,        "questionText": "Toimintatavassa on ohjeistettu esimiestä/työntekijää puheeksi ottamiseen/varhaisen tuen keskustelun käymiseen."      } ,      {        "questionId": 5 ,        "questionText": "Toimintatavassa on kuvattu esimiehen ja työyhteisön keinot toimia, kun huoli herää tai tulee sairauspoissaoloja."      } ,      {        "questionId": 6 ,        "questionText": "Korvaavan työn käytäntö on kytketty varhaiseen tukeen."      }      ]    } ,    {      "partDefinition": "<strong>c) Paluun tuki</strong>" ,      "partHeader": "paluun tuki" ,      "partId": "patu" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Esimiehet on ohjeistettu sopimaan yhteydenpidosta työntekijän kanssa jo sairauspoissaolon alkaessa."      } ,      {        "questionId": 2 ,        "questionText": "Paluun tuen käytännön eteneminen on kuvattu."      } ,      {        "questionId": 3 ,        "questionText": "Paluun tuessa on huomioitu työyhteisön rooli. "      } ,      {        "questionId": 4 ,        "questionText": "Työhön paluun keinot terveydellisissä tilanteissa (esim. osasairauspäiväraha, ammatillinen kuntoutus/työkokeilu) on kuvattu."      } ,      {        "questionId": 5 ,        "questionText": "Työn mukauttamisen tarve (esim. työaika, ergonomia, työkokeilu) arvioidaan pääsääntöisesti aina työntekijän palatessa työhön pitkältä sairauslomalta."      } ,      {        "questionId": 6 ,        "questionText": "Esimiehet on ohjeistettu sopimaan seurannasta kaikkien yli 30 päivän sairauspoissaolojen kohdalla  "      }      ]    } ,    {      "partDefinition": "<strong>d) Tehostettu tuki</strong>" ,      "partHeader": "tehostettu tuki" ,      "partId": "tetu" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Vaihtoehdot pitkälle sairauspoissaololle on kuvattu: organisaation omat keinot, Kelan keinot (esim. osasairauspäiväraha) ja Kevan keinot (esim. Ammatillisen kuntoutuksen tukema työkokeilu ja uudelleenkoulutus tai osakuntoutustuki)."      } ,      {        "questionId": 2 ,        "questionText": "Valmistautuminen työterveysneuvotteluun on kuvattu."      } ,      {        "questionId": 3 ,        "questionText": "Työterveysneuvotteluprosessi on kuvattu."      } ,      {        "questionId": 4 ,        "questionText": "Toimintatapa työkyvyn arviointiin on kuvattu."      } ,      {        "questionId": 5 ,        "questionText": "Uudelleensijoitusprosessi on kuvattu."      } ,      {        "questionId": 6 ,        "questionText": "Uudelleensijoituksen osalta roolit ja vastuut ovat selkeästi kuvatut."      } ,      {        "questionId": 7 ,        "questionText": "Työyhteisön tehostetun tuen vaihtoehtoja on kuvattu (esim. työyhteisösovittelu)."      }      ]    }    ]  } ,  {    "sectionHeader": "Toimintatavan ohjeistus" ,       "sectionId": "aktuprosessi" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "<strong>e) Sujuva prosessi</strong>" ,      "partHeader": "sujuva prosessi" ,      "partId": "supr" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Toimintatavan vaiheista on tehty toimintaa selkeyttäviä kuvauksia (esim. prosessikaavio)."      } ,      {        "questionId": 2 ,        "questionText": "Roolit on kuvattu selkeästi ja vastuut on kytketty käytäntöön (esim. kuka tekee, mitä tekee ja milloin tekee)."      } ,      {        "questionId": 3 ,        "questionText": "Esimies tietää ohjeistuksen perusteella keneen voi olla yhteydessä eri tilanteissa."      } ,      {        "questionId": 4 ,        "questionText": "Varhaisen, tehostetun ja paluun tuen vaiheilla on selkeä alku ja loppu."      }      ]    }    ]  } ,  {    "sectionHeader": "Toimintatavan ohjeistus" ,    "sectionId": "aktupvm" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "<strong>f) Aktiivisen tuen tärkeät päivämäärät</strong>" ,      "partHeader": "tärkeät päivämäärät" ,      "partId": "tapa" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Aktiivisen tuen toimintatavassa on kuvattu työntekijän, esimiehen ja työterveyshuollon vastuut työkyvyn heikentyessä sairauspoissaolopäivämäärien (0 - 300 päivää) mukaan."      } ,      {        "questionId": 2 ,        "questionText": "Kelan 30-60-90-säännön edellyttämät toimenpidevastuut on kuvattu selkeästi."      } ,      {        "questionId": 3 ,        "questionText": "Esimiehen 30-päivän ilmoitus työterveyshuoltoon on ohjeistettu."      } ,      {        "questionId": 4 ,        "questionText": "Työnantajan edustaja on mukana työhön paluun suunnittelussa liittyen 90-päivän B-lausuntoon."      } ,      {        "questionId": 5 ,        "questionText": "90-päivän B-lausunto lähetetään Kelan lisäksi myös Kevaan ammatillisen kuntoutuksen mahdollisuuksien selvittämistä varten."      } ,      {        "questionId": 6 ,        "questionText": "Sairauspoissaolojen hälytysrajat on määritetty työkykyriskit huomioiden (esim. tarkastelujakson pituus)."      }      ]    }    ]  } ,  {    "sectionHeader": "Toimintatavan ohjeistus" ,    "sectionId": "ohjeselkeys" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "<strong>g) Ohjeistuksen selkeys</strong>" ,      "partHeader": "ohjeistuksen selkeys" ,      "partId": "ohse" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Toimintatapa on helposti löydettävissä."      } ,      {        "questionId": 2 ,        "questionText": "Ohjeistuksessa puhutellaan suoraan lukijaa aktiivista kieltä käyttäen."      } ,      {        "questionId": 3 ,        "questionText": "Lomakkeet ovat selkeitä ja yksinkertaisia, eikä niitä ole liian monta."      } ,      {        "questionId": 4 ,        "questionText": "Jos on erillisiä ohjeita työkyvyn tukemisen asioissa, niin ohjeiden yhteys toisiinsa on selkeää."      } ,      {        "questionId": 5 ,        "questionText": "Ohjeistus on konkreettista, selkeää ja helposti ymmärrettävää."      }      ]    }    ]  } ,  {    "sectionHeader": "Toimintatavan juurruttaminen" ,    "sectionId": "toimintajuurrutus" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "" ,      "partHeader": "toimintatavan juurruttaminen" ,      "partId": "toju" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Toimintatapa on osa uuden työntekijän perehdytysohjelmaa."      } ,      {        "questionId": 2 ,        "questionText": "Toimintatapa on osa uuden esimiehen perehdytysohjelmaa."      } ,      {        "questionId": 3 ,        "questionText": "Toimintatapaan liittyvää koulutusta järjestetään esimiehille noin kerran vuodessa."      } ,      {        "questionId": 4 ,        "questionText": "Esimiehet käyttävät toimintatapaa aktiivisesti ja oikea-aikaisesti."      } ,      {        "questionId": 5 ,        "questionText": "Työterveyshuolto toimii aktiivisesti toimintatavan juurruttamisessa."      } ,      {        "questionId": 6 ,        "questionText": "Esimiehet käyvät aktiivisen tuen toimintatavan läpi vähintään kerran vuodessa oman työyksikkönsä kanssa."      } ,      {        "questionId": 7 ,        "questionText": "Toiminnan kaikissa vaiheissa tarkastellaan yksilön työ-ja toimintakykyä suhteessa työhön ja sen sujuvuuteen."      } ,      {        "questionId": 8 ,        "questionText": "Henkilöstö ymmärtää aktiivisen tuen toimintatavan merkityksen. "      } ,      {        "questionId": 9 ,        "questionText": "Työntekijä on aktiivinen omassa asiassaan."      } ,      {        "questionId": 10 ,        "questionText": "Työyhteisö edistää yhteisesti työn sujuvuutta."      } ,      {        "questionId": 11 ,        "questionText": "Toimintatapaa arvioidaan ja päivitetään säännöllisesti yhteistyössä keskeisten toimijoiden kanssa."      }      ]    }    ]  } ,  {    "sectionHeader": "Toimintatavan johtaminen" ,    "sectionId": "aktujohto" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "" ,      "partHeader": "toimintatavan johtaminen" ,      "partId": "tojo" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Aktiivisen tuen toimintatavan kokonaisvastuu on määritetty tietylle toimijalle."      } ,      {        "questionId": 2 ,        "questionText": "Varhaisen tuen keskusteluissa sovittuja toimenpiteitä seurataan ja raportoidaan organisaatiossa eteenpäin."      } ,      {        "questionId": 3 ,        "questionText": "Aktiivisen tuen seurantaan on sähköinen järjestelmä, joka edellyttää esimieheltä reagointia."      } ,      {        "questionId": 4 ,        "questionText": "Osatyökykyisten sijoittuminen yli toimialarajojen on mahdollistettu."      } ,      {        "questionId": 5 ,        "questionText": "Kevan tukeman ammatillisen kuntoutuksen toimenpiteiden onnistumista seurataan organisaatiossa."      } ,      {        "questionId": 6 ,        "questionText": "Toimintatavassa on myös esitetty viimeisenä vaihtoehtona työsuhteen päättäminen, jos mitkään muut vaihtoehdot eivät tuo ratkaisua."      } ,      {        "questionId": 7 ,        "questionText": "Työkyvyttömyyskustannusten seuranta on vastuutettu tietylle toimijalle."      } ,      {        "questionId": 8 ,        "questionText": "Työkyvyttömyyskustannusten seurantatietoja analysoidaan säännöllisesti ja ryhdytään sovittuihin toimenpiteisiin."      } ,      {        "questionId": 9 ,        "questionText": "Aktiivisen tuen toimintatapaa käytetään työhyvinvointi- ja työkykyjohtamisen muutostavoitteiden saavuttamiseen (koskien esim. työilmapiirin parantamista, henkilöstön työhyvinvoinnin parantamista, sairauspoissaolojen vähentämistä, työkyvyttömyyseläkkeiden vähentämistä)."      } ,      {        "questionId": 10 ,        "questionText": "Tavoitteiden toteutumisen seuranta- ja arviointivastuut on määritelty selkeästi (lähiesimiehet, toimialajohto)."      } ,      {        "questionId": 11 ,        "questionText": "Toimialajohdolle on määritelty omat seurattavat mittarit."      } ,      {        "questionId": 12 ,        "questionText": "Lähiesimiehille on määritelty omat seurattavat mittarit."      }      ]    }    ]  } ,  {    "sectionHeader": "Työterveysyhteistyö ja työterveyshuollon toiminta" ,    "sectionId": "tthcoop" ,    "sectionResponceScale": [0,1,2,'X'] ,    "sectionResponceInfo": "0 ei toteudu, 1 toteutuu osittain, 2 toteutuu kattavasti, X en tiedä" ,    "sectionResponceScaleInfo": "Arvio" ,    "parts": [    {      "partDefinition": "<strong>Työterveysyhteistyö</strong>" ,      "partHeader": "työterveysyhteistyö" ,      "partId": "tyyh" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Työterveysyhteistyöhön osallistuvat johto, hr, esimiehet, työntekijät, työsuojelu ja työterveyshuolto."      } ,      {        "questionId": 2 ,        "questionText": "Työterveysyhteistyön johtaminen on määritelty."      } ,      {        "questionId": 3 ,        "questionText": "Työterveysyhteistyölle on sovittu rakenteet."      } ,      {        "questionId": 4 ,        "questionText": "Työterveyshuollon toimintasuunnitelman keskeiset tavoitteet ovat linjassa aktiivisen tuen toiminnalle asetettuihin tavoitteisiin."      } ,      {        "questionId": 5 ,        "questionText": "Työterveyshuollon toiminnalle on asetettu työterveysyhteistyössä selkeät mittarit."      } ,      {        "questionId": 6 ,        "questionText": "Työterveyshuolto koostaa toiminnastaan raportin ja analysoi sen tuloksia, joita käsitellään työterveysyhteistyössä."      } ,      {        "questionId": 7 ,        "questionText": "Työterveyshuollon työpaikkaselvitykset ja työpaikan vaarojen tunnistamisen ja riskien arvioinnin toiminta tehdään yhteistyössä."      }      ]    } ,    {      "partDefinition": "<strong>Työterveyshuollon toiminta</strong>" ,      "partHeader": "työterveyshuollon toiminta" ,      "partId": "tyto" ,      "questions": [      {        "questionId": 1 ,        "questionText": "Työterveyshuollon roolit ja vastuut aktiivisen tuen toimintatavassa on selkeästi määritelty."      } ,      {        "questionId": 2 ,        "questionText": "Työterveyshuolto tunnistaa työkykyriskissä olevan työntekijän ja työyhteisön, jossa on ongelmia ja ryhtyy aktiivisesti toimenpiteisiin."      } ,      {        "questionId": 3 ,        "questionText": "Työterveyshuolto tukee esimiehiä aktiivisen tuen tilanteissa."      } ,      {        "questionId": 4 ,        "questionText": "30-60-90-sääntö ja siihen liittyvät toimenpiteet toimivat sujuvasti."      } ,      {        "questionId": 5 ,        "questionText": "Työterveyshuolto tekee työkykyriskissä oleville hoitosuunnitelman sekä seuraa sen toteutumista ja tarvittavat kuntoutussuunnitelmat tehdään työterveysyhteistyössä."      } ,      {        "questionId": 6 ,        "questionText": "Työterveyshuolto osaa aktiivisesti tarjota Kelan tarjoamia tukimuotoja työkyvyn ollessa alentunut (mm. osasairauspäiväraha, sairauskohtaiset kuntoutukset)."      } ,      {        "questionId": 7 ,        "questionText": "Työterveyshuolto tuntee ammatillisen kuntoutuksen edellytyksiä ja ohjaa aktiivisesti Kevan tarjoamaan ammatilliseen kuntoutukseen (esim. työkokeilu, työhön valmennus, uudelleenkoulutus)."      } ,      {        "questionId": 8 ,        "questionText": "Työterveyshuolto toteuttaa aktiivisesti työterveysyhteistyössä sovittua Kevan 90-päivän kuntoutusselvitysprosessia."      }      ]    }    ]  }];
</script>
<script>$pageInfoContainer = $("div#page-info");$mainContainer = $("div#questionnaire");$resultsContainer = $("div#results");$resultsButton = $("button#katso-tuloksia");$resultsToolbar = $("div#tulokset-button-toolbar");$editButton = $("button#muokkaa-vastauksia");$printButton = $("button#tulostaa-tulokset");$saveResultsButton = $("button#tallenna-tulokset-palvelimelle");$saveResultsSubmitButton = $("button#tallenna-tulokset-palvelimelle-submit");$sendToExpert = $("button#laheta-asiantuntijalle");
$printResults = function(){  if($resultsContainer.css('display')=='block')    window.print();}
$sendEmail = function(){  event.preventDefault();  //alert("Got ya!");  var email = 'tyoelamapalvelut@keva.fi';  var subject = 'Aktiivisen tuen toimintatavan itsearviointi';  var emailBody = 'Kirjoita oma viestisi, yhteystietosi ja mahdolliset kysymyksesi tämän viivan yläpuolelle\n-------------------------------------------------------------------------\n\n';    $.each(kysely, function(i, section) {    emailBody += section.sectionHeader+"\n";        $.each(section.parts, function(j, part) {      emailBody += part.partHeader+"\n";            $.each(part.questions, function(k, question) {        //qLength = question.questionText.length;        //qTextToShow = question.questionText.substr(0,8)+"..."+question.questionText.substr(qLength-8,qLength-1);                if(question.questionResponce == undefined)          emailBody += question.questionId+": -\n";        else          emailBody += question.questionId+": "+question.questionResponce+"\n";          //emailBody += question.questionResponce+"\t"+qTextToShow+"\n";
      });      emailBody += "\n";          });    //emailBody += "\n";  });    console.log(emailBody);  console.log(emailBody.length);  window.location = 'mailto:' + email + '?subject=' + encodeURIComponent(subject) + '&body=' + encodeURIComponent(emailBody);}
$showModal = function(){  $("#myModal").modal('show');}
$sendResultsToServer = function(){    $activeResponces = $("div.btn-group.btn-group-xs .active");  var resultsToSave = new Object;  //console.log($activeResponces);  $.each($activeResponces, function(i, button) {    var par_ids = $(button).attr("id").split("-");    //console.log(par_ids);    resultsToSave[par_ids[0]+"-"+par_ids[1]+"-"+par_ids[2]] = par_ids[3].substr(1,2);  });    resultsToSave["taustatieto_tyyppi"]     = typeof $('input[name=taustatieto_tyyppi]:checked').val() !== 'undefined'  ? $('input[name=taustatieto_tyyppi]:checked').val() : null;  resultsToSave["taustatieto_henkilosto"] = $('#taustatieto_henkilosto').val() != ''                                  ? $('#taustatieto_henkilosto').val() : null;  resultsToSave["taustatieto_aikvast"]    = typeof $('input[name=taustatieto_aikvast]:checked').val() !== 'undefined' ? $('input[name=taustatieto_aikvast]:checked').val() : null;  resultsToSave["taustatieto_elakeyht"]   = typeof $('input[name=taustatieto_elakeyht]:checked').val() !== 'undefined'? $('input[name=taustatieto_elakeyht]:checked').val() : null;    console.log(resultsToSave);      $.ajax({    url: "http://url",    type: 'POST',    contentType:'application/json',    data: JSON.stringify(resultsToSave),    dataType:'json',    success: function(data){      //On ajax success do this      window.resultsToSave = resultsToSave;      console.log(JSON.stringify(resultsToSave));      alert("Tiedot onnistuneesti tallennettu!");    },    error: function(xhr, ajaxOptions, thrownError) {      //On error do this      //$.mobile.loading('hide')      console.log(xhr);      console.log(ajaxOptions);      console.log(thrownError);      console.log(JSON.stringify(resultsToSave));      alert("Tietojen lähetys epäonnistui!");            /*if (xhr.status == 200) {                alert(ajaxOptions);      }      else {        alert(xhr.status);        alert(thrownError);      }*/    }  });  }
$activateResponce = function() {  var id = $( this ).attr('id');  var par_ids = id.split("-");    var s = [];  for( i = 0; i < kysely.length; i++ )  { if( kysely[i].sectionId == par_ids[0] ) {  s = kysely[i]; }  }  //console.log(par_ids);    $.each(kysely, function(i, section) {    if(section.sectionId == par_ids[0]){      $.each(section.parts, function(j, part) {        if(part.partId == par_ids[1]){          $.each(part.questions, function(k, question) {            if(question.questionId == par_ids[2].substr(1,2)){              question.questionResponce = parseInt(par_ids[3].substr(1,2));              return false;            }          });          return false;        }      });      return false;    }  });    var len = id.length;  var id_group = id.substr(0,len-1);   for(var i=0; i < s.sectionResponceScale.length; i++)    $("#".concat(id_group, s.sectionResponceScale[i] )).removeClass("active");  $( this ).addClass("active");};
$createQuestionnaire = function() {  $.each(kysely, function(i, section) {    $sectionContainer = $("<div>", {id:section.sectionId + "-container"});    $sectionContainer.append(          $("<div>", {class:"page-header"}).append(              $("<h2>",{text: section.sectionHeader})));        $.each(section.parts, function(j, part) {      $sectionContainer.append($("<p>",{html: part.partDefinition}));      $qTable = $("<table>", {id:section.sectionId+"-"+part.partId, class: "table table-striped table-hover"});      $qTable.append(        $("<thead>")          .append(            $("<tr>")              .append($("<th>", {class:"text-right", text:section.sectionResponceInfo}))              .append($("<th>", {class:"text-center", text:section.sectionResponceScaleInfo}))));      $qTable.append($("<tbody>"));            $.each(part.questions, function(k, question) {        $qRow = $("<tr>").append($("<td>",{text:question.questionText}))        $qRow.append($("<td>", {class:"col-md-2 text-center",}));                $buttonContainer = $("<div>", {id: section.sectionId+"-"+part.partId+"-k"+question.questionId+"-buttoncontainer", class: "btn-group btn-group-xs", role: "group"});        $.each(section.sectionResponceScale, function(l, scale_num) {          $qButton = $("<button>", {type:"button", class:"btn btn-default", id:section.sectionId+"-"+part.partId+"-k"+question.questionId+"-v"+scale_num, text: " "+scale_num+" "})          if(question.questionResponce === l)            $qButton.addClass("active");          $qButton.click($activateResponce);          $qButton.appendTo($buttonContainer);        });                $buttonContainer.appendTo($("td:last-child",$qRow));        $qRow.appendTo($("tbody",$qTable));      });        $qTable.appendTo($sectionContainer);    });        $sectionContainer.appendTo($mainContainer);  });
  $("div#questionnaire table tbody tr:last-child td").css("border-bottom", "1px solid #ddd");}
$createResults = function() {  $yhteenVetoContainer = $("<div>", {id:"results-yhteenveto-container"});  $yhteenVetoContainer.appendTo($resultsContainer);  $yhteenVetoContainer.append(          $("<div>", {class:"page-header"}).append(              $("<h2>",{text: "Yhteenveto"})));  $yhteenVetoContainer        .append($("<div>", {class:"row"})   .append($("<div>", {class:"col-md-12"})    .append($("<div>", {class:"progress", id:"progressbar-kokonaispisteet"})     .append($("<div>",{id:"results-progressbar-kokonaispisteet-bar", class:"progress-bar"}))))        );
  $resultsContainer.append(          $("<div>", {class:"page-header"}).append(              $("<h2>",{text: "Kiinnitä huomiota seuraaviin kohtiin"})));    $.each(kysely, function(i, section) {    $sectionContainer = $("<div>", {id:"results-"+section.sectionId + "-container"});    $sectionContainer.append(          $("<div>", {class:"page-header"}).append(              $("<h3>",{text: section.sectionHeader})));        $.each(section.parts, function(j, part) {      //sectionResponceScale      $sectionContainer.append($("<p>",{html: part.partHeader, class:"text-capitalize lead"}));      $sectionContainer.append($("<div>",{id:"results-"+section.sectionId+"-"+part.partId+"-poimitutkysymykset", class:"col-md-offset-1"}));      /*$sectionContainer.append($("<p>",{id:"results2-"+section.sectionId+"-"+part.partId+"-vastausmaarapisteet"}));      $sectionContainer        .append(          $("<div>", {class:"progress", id:"progressbar2-"+section.sectionId+"-"+part.partId})            .append(              $("<div>",{id:"results2-"+section.sectionId+"-"+part.partId+"-pisteet", class:"progress-bar progress-bar-success"})            )        );*/              $yhteenVetoContainer        .append($("<div>", {class:"row"})          .append($("<div>", {class:"col-md-4", html:section.sectionHeader+", "+part.partHeader})            .append($("<br>"))            .append($("<span>",{class:"small text-right",id:"results-"+section.sectionId+"-"+part.partId+"-vastausmaarapisteet"}).css("font-style","italic")))          .append($("<div>", {class:"col-md-8"})            .append($("<div>", {class:"progress", id:"progressbar-"+section.sectionId+"-"+part.partId})              .append($("<div>",{id:"results-"+section.sectionId+"-"+part.partId+"-pisteet", class:"progress-bar"}))))        );
      });        $sectionContainer.appendTo($resultsContainer);  });
  $sectionContainer.append($("<strong>", {html:"<br>Lisätietoa aktiivisen tuen toimintatavasta on Kevan sivuilla <a href='http://www.keva.fi' target='_blank'>www.keva.fi</a>."}))}
$updateProgressBarColorWidth = function(obj_id, points, max_points, text, answer_num){  var bar_class = "";  var percentage = Math.round(10000*points/max_points)/100;  text = typeof text !== 'undefined' ? text : 'pisteet';  answer_num = typeof answer_num !== 'undefined' ? answer_num : 'virhe';    if(Math.round(percentage) < 33)      {bar_class="progress-bar-danger"}  else if(Math.round(percentage) < 66) {bar_class="progress-bar-warning"}  else                                 {bar_class="progress-bar-success"}    $obj = $("#"+obj_id);  $obj  .removeClass("progress-bar-danger progress-bar-warning progress-bar-success")        .addClass(bar_class)        .css("width", percentage+"%")  .css("text-align","left")  .css("white-space", "nowrap")     if (answer_num != 0) {        $obj  .text(" "+text+" "+points+"/"+max_points)  } else {  $obj  .text("ei vastauksia osiossa")  }    if(percentage==0){$obj.css("color", "black")}  else             {$obj.css("color", "black")}  }
is_number = function( x ){ return( !isNaN( parseFloat( x ) ) && isFinite( x ) );}
only_numbers = function( x ){ var r = []; for( var i = 0; i < x.length; i++ ) {  if( is_number( x[i] ) )   r.push( x[i] ); }  return( r );}
$updateResults = function() {  var kokonais_pisteet = 0;  var kokonais_vastausmaara = 0;  var kokonais_max_pisteet = 0;  $.each(kysely, function(i, section) {          $.each(section.parts, function(j, part) {      var pisteet = 0;      var vastausmaara = 0;      var max_pisteet = Math.max.apply(Math, only_numbers( section.sectionResponceScale) );      var min_pisteet = undefined;      $poimitutkysymykset = $("#results-"+section.sectionId+"-"+part.partId+"-poimitutkysymykset");      $poimitutkysymykset        .contents()        .remove();            $.each(part.questions, function(k, question) {        if($.inArray(question.questionResponce, section.sectionResponceScale ) != -1){    if( is_number( question.questionResponce ) ) {   pisteet += question.questionResponce;   vastausmaara++;    }          if(question.questionResponce<min_pisteet || min_pisteet==undefined) min_pisteet = question.questionResponce;        }      });      kokonais_pisteet += pisteet;   kokonais_vastausmaara += vastausmaara;            if(min_pisteet != undefined && min_pisteet != max_pisteet) {        $poimitutkysymykset.append($("<p>",{html:"Vastasit "+min_pisteet+" seuraaviin väittämiin: "}));        $.each(part.questions, function(k, question) {          if(question.questionResponce == min_pisteet){            $poimitutkysymykset.append($("<p>",{html:question.questionText,class:"small"}));          }        });              } else {        if(min_pisteet == undefined)          $poimitutkysymykset.append($("<p>",{text:"Vastasit 0 väittämään"}));        if(min_pisteet == max_pisteet)          $poimitutkysymykset.append($("<p>",{text:"Vastasit kaikkiin väittämiin "+max_pisteet+", eli asia toteutuu kattavasti."}));      }            var maxpisteet = (part.questions.length*Math.max.apply(Math, only_numbers( section.sectionResponceScale ) ))      var pisteprosentti = Math.round(10000*pisteet/maxpisteet)/100;      kokonais_max_pisteet += maxpisteet;      if(vastausmaara != 0) {  $("#results-"+section.sectionId+"-"+part.partId+"-vastausmaarapisteet").html("vastaukset "+vastausmaara+"/"+part.questions.length);   } else {  $("#results-"+section.sectionId+"-"+part.partId+"-vastausmaarapisteet").html("et ole vastannut tämän osion kysymyksiin");   }        $updateProgressBarColorWidth("results-"+section.sectionId+"-"+part.partId+"-pisteet", pisteet, maxpisteet, "pisteet", vastausmaara)
      //$("#results-"+section.sectionId+"-"+part.partId+"-pisteet")      //  .css("width", pisteprosentti+"%")   //  .css("text-align","left")      //  .text("pisteet:"+pisteet+"/"+maxpisteet);            //if(pisteet==0){$("#results-"+section.sectionId+"-"+part.partId+"-pisteet").css("color", "black")}      //else          {$("#results-"+section.sectionId+"-"+part.partId+"-pisteet").css("color", "white")}            });      });  var kokonaispisteprosentti = Math.round(10000*kokonais_pisteet/kokonais_max_pisteet)/100;    $updateProgressBarColorWidth("results-progressbar-kokonaispisteet-bar", kokonais_pisteet, kokonais_max_pisteet, "kokonaispisteet", kokonais_vastausmaara)}
$switchQandR = function() {  $updateResults();    var timing = 700;  $mainContainer.slideToggle(timing)  $pageInfoContainer.slideToggle(timing);  $resultsContainer.slideToggle(timing);  $resultsButton.slideToggle(timing);  $resultsToolbar.slideToggle(timing);  $("html, body").animate({ scrollTop: 0 }, "slow");}
</script>
<script>$( document ).ready(function() {  $mainContainer      .contents()      .remove();  $createQuestionnaire();      $mainContainer.show();  $pageInfoContainer.show();  $resultsContainer.hide();      $resultsButton.click($switchQandR);  $resultsButton.show();    $editButton.click($switchQandR);  $printButton.click($printResults);  $saveResultsButton.click($showModal);  $saveResultsSubmitButton.click($sendResultsToServer);  $sendToExpert.click($sendEmail);  $resultsToolbar.hide();    $resultsContainer      .contents()      .remove();  $createResults();
});</script><style>  .btn-default.active, .btn-default:active{background-color:#00C1D5}/*  @media print {  .progress, .progress > .progress-bar-success {      display: block !important;      -webkit-print-color-adjust: exact !important;
    }  }*/@media print{         .progress{    background-color: #F5F5F5 !important;    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#F5F5F5', endColorstr='#F5F5F5')" !important;  }  .progress-bar-success{    display: block !important;    background-color: #5cb85c !important;    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#5cb85c', endColorstr='#449d44 ')" !important;    color: #000000 !important;  }  .progress-bar-warning{    display: block !important;    background-color: #f0ad4e !important;    -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#f0ad4e', endColorstr='#ec971f ')" !important;    color: #000000 !important;  } .progress-bar-danger{    display: block !important;    background-color: #d9534f !important;     -ms-filter: "progid:DXImageTransform.Microsoft.gradient(GradientType=0,startColorstr='#d9534f', endColorstr='#c9302c ')" !important;    color: #000000 !important;  }  .progress, .progress > .progress-bar {    display: block !important;    -webkit-print-color-adjust: exact !important;
    box-shadow: inset 0 0 !important;    -webkit-box-shadow: inset 0 0 !important;  color: #000000 !important;  }   }</style></body></html>
